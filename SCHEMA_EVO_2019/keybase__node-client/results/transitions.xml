<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<transitions>
    <transition oldVersion="1387395487.sql" newVersion="1387399049.sql">
        <deletion type="DeleteTable">
            <table>
                <name>key_bundles</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>bundle</name>
                <type>TEXT</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>comment</name>
                <type>TEXT</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>ctime</name>
                <type>DATETIME</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>is_primary</name>
                <type>TINYINT(1)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>key_fingerprint</name>
                <type>CHAR(128)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>key_type</name>
                <type>INT(11)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>kid</name>
                <type>CHAR(70)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>mtime</name>
                <type>DATETIME</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>self_signed</name>
                <type>TINYINT(1)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>status</name>
                <type>INT(11)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>uid</name>
                <type>CHAR(32)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>ukbid</name>
                <type>CHAR(32)</type>
                <isKey>true</isKey>
            </attribute>
        </deletion>
        <insertion type="NewTable">
            <table>
                <name>kvstore</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>key</name>
                <type>VARCHAR(100)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>type</name>
                <type>CHAR(2)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>value</name>
                <type>BLOB</type>
                <isKey>false</isKey>
            </attribute>
        </insertion>
        <insertion type="NewTable">
            <table>
                <name>lookup</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>key</name>
                <type>VARCHAR(100)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>name</name>
                <type>VARCHAR(200)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>type</name>
                <type>CHAR(2)</type>
                <isKey>false</isKey>
            </attribute>
        </insertion>
        <deletion type="DeleteTable">
            <table>
                <name>users</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>ctime</name>
                <type>DATETIME</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>mtime</name>
                <type>DATETIME</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>uid</name>
                <type>CHAR(32)</type>
                <isKey>true</isKey>
            </attribute>
            <attribute>
                <name>username</name>
                <type>VARCHAR(128)</type>
                <isKey>false</isKey>
            </attribute>
        </deletion>
    </transition>
    <transition oldVersion="1387399049.sql" newVersion="1387401473.sql">
        <insertion type="UpdateTable">
            <table>
                <name>lookup</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>key_type</name>
                <type>CHAR(2)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>name_type</name>
                <type>CHAR(2)</type>
                <isKey>false</isKey>
            </attribute>
        </insertion>
        <deletion type="UpdateTable">
            <table>
                <name>lookup</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>type</name>
                <type>CHAR(2)</type>
                <isKey>false</isKey>
            </attribute>
        </deletion>
    </transition>
    <transition oldVersion="1387401473.sql" newVersion="1387408094.sql">
        <update type="TypeChange">
            <table>
                <name>lookup</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>name_type</name>
                <type>INTEGER(4)</type>
                <isKey>false</isKey>
            </attribute>
        </update>
    </transition>
    <transition oldVersion="1387408094.sql" newVersion="1387747387.sql">
        <insertion type="NewTable">
            <table>
                <name>key_import_log</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>ctime</name>
                <type>INTEGER(8)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>fingerprint</name>
                <type>CHAR(40)</type>
                <isKey>true</isKey>
            </attribute>
            <attribute>
                <name>mtime</name>
                <type>INTEGER(8)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>state</name>
                <type>INTEGER(4)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>uid</name>
                <type>CHAR(32)</type>
                <isKey>false</isKey>
            </attribute>
        </insertion>
    </transition>
    <transition oldVersion="1387747387.sql" newVersion="1389210309.sql"/>
    <transition oldVersion="1389210309.sql" newVersion="1392651041.sql">
        <deletion type="DeleteTable">
            <table>
                <name>key_import_log</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>ctime</name>
                <type>INTEGER(8)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>fingerprint</name>
                <type>CHAR(40)</type>
                <isKey>true</isKey>
            </attribute>
            <attribute>
                <name>mtime</name>
                <type>INTEGER(8)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>state</name>
                <type>INTEGER(4)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>uid</name>
                <type>CHAR(32)</type>
                <isKey>false</isKey>
            </attribute>
        </deletion>
    </transition>
</transitions>
