<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<transitions>
    <transition oldVersion="1483351581.sql" newVersion="1483352245.sql"/>
    <transition oldVersion="1483352245.sql" newVersion="1486128734.sql">
        <insertion type="UpdateTable">
            <table>
                <name>deployments_versions</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>deleted_at</name>
                <type>TIMESTAMP</type>
                <isKey>false</isKey>
            </attribute>
        </insertion>
        <insertion type="UpdateTable">
            <table>
                <name>packages</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>deleted_at</name>
                <type>TIMESTAMP</type>
                <isKey>false</isKey>
            </attribute>
        </insertion>
        <insertion type="UpdateTable">
            <table>
                <name>packages_diff</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>deleted_at</name>
                <type>TIMESTAMP</type>
                <isKey>false</isKey>
            </attribute>
        </insertion>
        <insertion type="UpdateTable">
            <table>
                <name>packages_metrics</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>deleted_at</name>
                <type>TIMESTAMP</type>
                <isKey>false</isKey>
            </attribute>
        </insertion>
    </transition>
    <transition oldVersion="1486128734.sql" newVersion="1534663171.sql">
        <insertion type="UpdateTable">
            <table>
                <name>apps</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>os</name>
                <type>TINYINT(3)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>platform</name>
                <type>TINYINT(3)</type>
                <isKey>false</isKey>
            </attribute>
        </insertion>
        <insertion type="NewTable">
            <table>
                <name>log_report_deploy</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>client_unique_id</name>
                <type>VARCHAR(100)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>created_at</name>
                <type>TIMESTAMP</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>id</name>
                <type>BIGINT(20)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>package_id</name>
                <type>INT(10)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>previous_deployment_key</name>
                <type>VARCHAR(64)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>previous_label</name>
                <type>VARCHAR(20)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>status</name>
                <type>TINYINT(3)</type>
                <isKey>false</isKey>
            </attribute>
        </insertion>
        <insertion type="NewTable">
            <table>
                <name>log_report_download</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>client_unique_id</name>
                <type>VARCHAR(100)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>created_at</name>
                <type>TIMESTAMP</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>id</name>
                <type>BIGINT(20)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>package_id</name>
                <type>INT(10)</type>
                <isKey>false</isKey>
            </attribute>
        </insertion>
        <insertion type="UpdateTable">
            <table>
                <name>packages</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>is_disabled</name>
                <type>TINYINT(3)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>rollout</name>
                <type>TINYINT(3)</type>
                <isKey>false</isKey>
            </attribute>
        </insertion>
    </transition>
    <transition oldVersion="1534663171.sql" newVersion="1534955559.sql">
        <update type="TypeChange">
            <table>
                <name>deployments_versions</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>app_version</name>
                <type>VARCHAR(100)</type>
                <isKey>false</isKey>
            </attribute>
        </update>
        <insertion type="UpdateTable">
            <table>
                <name>deployments_versions</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>max_version</name>
                <type>BIGINT(20)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>min_version</name>
                <type>BIGINT(20)</type>
                <isKey>false</isKey>
            </attribute>
        </insertion>
    </transition>
    <transition oldVersion="1534955559.sql" newVersion="1535212451.sql"/>
    <transition oldVersion="1535212451.sql" newVersion="1536411283.sql">
        <insertion type="UpdateTable">
            <table>
                <name>apps</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>is_use_diff_text</name>
                <type>TINYINT(3)</type>
                <isKey>false</isKey>
            </attribute>
        </insertion>
    </transition>
</transitions>
