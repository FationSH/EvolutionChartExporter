<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<transitions>
    <transition oldVersion="1449659873.sql" newVersion="1450344318.sql"/>
    <transition oldVersion="1450344318.sql" newVersion="1480419915.sql"/>
    <transition oldVersion="1480419915.sql" newVersion="1480424638.sql">
        <insertion type="UpdateTable">
            <table>
                <name>changesets</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>username</name>
                <type>TEXT</type>
                <isKey>false</isKey>
            </attribute>
        </insertion>
    </transition>
    <transition oldVersion="1480424638.sql" newVersion="1480486109.sql">
        <deletion type="DeleteTable">
            <table>
                <name>changeset_tags</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>changeset_id</name>
                <type>INTEGER</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>id</name>
                <type>UUID</type>
                <isKey>true</isKey>
            </attribute>
            <attribute>
                <name>value</name>
                <type>TEXT</type>
                <isKey>false</isKey>
            </attribute>
        </deletion>
        <insertion type="UpdateTable">
            <table>
                <name>changesets</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>comment</name>
                <type>TEXT</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>created_by</name>
                <type>TEXT</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>imagery_used</name>
                <type>TEXT</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>source</name>
                <type>TEXT</type>
                <isKey>false</isKey>
            </attribute>
        </insertion>
    </transition>
    <transition oldVersion="1480486109.sql" newVersion="1480575875.sql">
        <insertion type="UpdateTable">
            <table>
                <name>changeset_comments</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>username</name>
                <type>TEXT</type>
                <isKey>false</isKey>
            </attribute>
        </insertion>
    </transition>
    <transition oldVersion="1480575875.sql" newVersion="1484568952.sql">
        <insertion type="UpdateTable">
            <table>
                <name>users</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>changeset_count</name>
                <type>INTEGER</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>first_edit</name>
                <type>TIMESTAMPTZ</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>num_changes</name>
                <type>INTEGER</type>
                <isKey>false</isKey>
            </attribute>
        </insertion>
    </transition>
    <transition oldVersion="1484568952.sql" newVersion="1485942718.sql">
        <insertion type="NewTable">
            <table>
                <name>stats</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>change_at</name>
                <type>TIMESTAMPTZ</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>changesets</name>
                <type>INTEGER</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>id</name>
                <type>INTEGER</type>
                <isKey>true</isKey>
            </attribute>
            <attribute>
                <name>nodes</name>
                <type>JSONB</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>relations</name>
                <type>JSONB</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>tags_created</name>
                <type>JSONB</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>tags_deleted</name>
                <type>JSONB</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>tags_modified</name>
                <type>JSONB</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>uid</name>
                <type>INTEGER</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>ways</name>
                <type>JSONB</type>
                <isKey>false</isKey>
            </attribute>
        </insertion>
    </transition>
    <transition oldVersion="1485942718.sql" newVersion="1485946722.sql">
        <update type="TypeChange">
            <table>
                <name>stats</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>id</name>
                <type>SERIAL</type>
                <isKey>true</isKey>
            </attribute>
        </update>
    </transition>
    <transition oldVersion="1485946722.sql" newVersion="1485948246.sql"/>
    <transition oldVersion="1485948246.sql" newVersion="1486114771.sql">
        <update type="TypeChange">
            <table>
                <name>stats</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>changesets</name>
                <type>INTEGERARRAY</type>
                <isKey>false</isKey>
            </attribute>
        </update>
    </transition>
    <transition oldVersion="1486114771.sql" newVersion="1491564335.sql">
        <update type="TypeChange">
            <table>
                <name>stats</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>id</name>
                <type>UUID</type>
                <isKey>true</isKey>
            </attribute>
        </update>
    </transition>
    <transition oldVersion="1491564335.sql" newVersion="1501758503.sql">
        <insertion type="UpdateTable">
            <table>
                <name>stats</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>nodes_created</name>
                <type>BIGINTARRAY</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>nodes_deleted</name>
                <type>BIGINTARRAY</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>nodes_modified</name>
                <type>BIGINTARRAY</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>relations_created</name>
                <type>BIGINTARRAY</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>relations_deleted</name>
                <type>BIGINTARRAY</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>relations_modified</name>
                <type>BIGINTARRAY</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>ways_created</name>
                <type>BIGINTARRAY</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>ways_deleted</name>
                <type>BIGINTARRAY</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>ways_modified</name>
                <type>BIGINTARRAY</type>
                <isKey>false</isKey>
            </attribute>
        </insertion>
    </transition>
</transitions>
